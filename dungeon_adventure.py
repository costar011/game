import random

def 던전_탐험():
    print("=== 던전 탐험 게임 ===")
    print("당신은 어두운 던전에 갇혔습니다. 목표는 보물을 찾고 무사히 탈출하는 것입니다.")
    
    체력 = 100
    보물 = 0
    몬스터 = ["슬라임", "고블린", "드래곤"]
    
    while 체력 > 0:
        print("\n1. 앞으로 간다")
        print("2. 체력을 확인한다")
        print("3. 게임 종료")
        선택 = input("선택지를 고르세요: ")

        if 선택 == "1":
            이벤트 = random.choice(["몬스터", "보물", "빈 방"])
            
            if 이벤트 == "몬스터":
                몬스터_이름 = random.choice(몬스터)
                공격력 = random.randint(10, 30)
                print(f"\n몬스터 {몬스터_이름}을(를) 만났습니다! 공격력이 {공격력}입니다.")
                
                전투_선택 = input("싸우겠습니까? (y/n): ").lower()
                if 전투_선택 == "y":
                    if random.random() > 0.5:
                        print(f"당신이 {몬스터_이름}을(를) 물리쳤습니다!")
                        보물 += random.randint(10, 50)
                    else:
                        print(f"{몬스터_이름}에게 공격을 받았습니다! 체력이 {공격력}만큼 줄어듭니다.")
                        체력 -= 공격력
                else:
                    print(f"{몬스터_이름}으로부터 도망쳤습니다. 하지만 체력이 10 감소합니다.")
                    체력 -= 10
            
            elif 이벤트 == "보물":
                보물_발견 = random.randint(20, 100)
                print(f"\n보물을 찾았습니다! {보물_발견} 골드를 얻었습니다.")
                보물 += 보물_발견
            
            else:
                print("\n아무것도 없는 빈 방입니다. 계속 탐험하세요.")
        
        elif 선택 == "2":
            print(f"\n현재 체력: {체력}")
            print(f"현재 보유한 보물: {보물} 골드")
        
        elif 선택 == "3":
            print("\n게임을 종료합니다.")
            print(f"최종 보유한 보물: {보물} 골드")
            print("안녕히 가세요!")
            break
        
        else:
            print("\n올바른 선택지를 입력해주세요.")
    
    if 체력 <= 0:
        print("\n체력이 모두 소진되었습니다. 게임 오버!")
        print(f"최종 보유한 보물: {보물} 골드")

# 게임 실행
if __name__ == "__main__":
    던전_탐험()
